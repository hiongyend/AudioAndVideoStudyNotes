# 音视频基础学习笔记

## 





## 主要流媒体协议
| 名称   | 推出机构       | 传输层协议     | 客户端| 使用领域|
| - | - | -|-|-|
|RTSP+RTP|IETF|TCP+UDP|VLC, WMP|IPTV|
|RTMP|Adobe Inc.|TCP|Flash|互联网直播|
|RTMFP|Adobe Inc.|UDP|Flash|互联网直播|
|MMS|Microsoft Inc.|TCP/UDP|WMP|互联网直播+点播|
|HTTP|WWW+IETF|TCP|Flash|互联网点播|

## 主要封装格式
|名称|推出机构|流媒体|支持的视频编码|支持的音频编码|目前使用领域|
|-|-|-|-|-|-|
|AVI|Microsoft Inc.|不支持|几乎所有格式|几乎所有格式|BT下载影视|
|MP4|MPEG|支持|MPEG-2, MPEG-4, H.264, H.263等|AAC, MPEG-1 Layers I, II, III, AC-3等|互联网视频网站|
|TS|MPEG|支持|MPEG-1, MPEG-2, MPEG-4, H.264|MPEG-1 Layers I, II, III, AAC,|IPTV，数字电视|
|FLV|Adobe Inc.|支持|Sorenson, VP6, H.264|MP3, ADPCM, Linear PCM, AAC等|互联网视频网站|
|MKV|CoreCodec Inc.|支持|几乎所有格式|几乎所有格式|互联网视频网站|
|RMVB|Real Networks Inc.|支持|RealVideo 8, 9, 10|AAC, Cook Codec, RealAudio Lossless|BT下载影视|

## 主要视频编码
视频编码的主要作用是将视频像素数据（RGB，YUV等）压缩成为视频码流，从而降低视频的数据量
- 与H.264相比H.265的最大本领是可以在维持画质基本不变的前提下，让数据传输带宽减少至H.264的一半。同时其还支持最高为7680*4320的分辨率，因此即使是2160P甚至是更高级别的超高清视频同样可以通过H.265格式进行编码。

- 下一代的编解码标准就要数H.265和VP9。VP9是Google继VP8之后推出的新一代标准。VP9和HEVC相比，要稍微逊色一些

- 在码率一定的情况下，几种编码标准的比较结果大致为：H.265 > VP9 > H.264> VP8 > MPEG4 > H.263 > MPEG2。

|名称(标准)|推出机构|推出时间|目前使用领域|
|-|-|-|-|
|H.265(HEVC)|MPEG/ITU-T|2013|各个领域|
|H.264|MPEG/ITU-T|2003|各个领域|
|MPEG4|MPEG|2001|不温不火|
|MPEG2|MPEG|1994|数字电视|
|VP9|Google|2013|youtub，chrome等|
|VP8|Google|2008|不普及|
|VC-1|Microsoft Inc.|2006|微软平台|


## 主要音频编码
音频编码主要是将音频采样数据（PCM）压缩成音频码流，从而降低音频的数据量。   

|名称(标准)|推出机构|推出时间|目前使用领域|
|-|-|-|-|
|AAC|MPEG|1997|各个领域（新）|
|AC-3|Dolby Inc.|1992|电影|
|MP3|MPEG|1993|各个领域（旧）|
|WMA|Microsoft Inc.|1999|微软平台|


## 播放一个网络视频的步骤
视频播放器播放一个互联网上的视频文件，需要经过以下几个步骤：解协议，解封装，解码音视频，音视频同步。如果播放本地文件则不需要解协议，为以下几个步骤：解封装，解码音视频，音视频同步。他们的过程如图所示。

![avatar](https://raw.githubusercontent.com/hiongyend/AudioAndVideoStudyNotes/master/%E7%BD%91%E7%BB%9C%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E6%B5%81%E7%A8%8B.jpg)

### 解协议
就是将流媒体协议的数据，解析为标准的相应的封装格式数据。音视频在网络上传播的时候，常常采用各种流媒体协议，例如HTTP，RTMP，或是MMS等等。这些协议在传输音视频数据的同时，也会传输一些信令数据。这些信令数据包括对播放的控制（播放，暂停，停止），或者对网络状态的描述等。解协议的过程中会去除掉信令数据而只保留音视频数据。例如，采用RTMP协议传输的数据，经过解协议操作后，输出FLV格式的数据。

### 解封装
就是将输入的封装格式的数据，分离成为音频流压缩编码数据和视频流压缩编码数据。封装格式种类很多，例如MP4，MKV，RMVB，TS，FLV，AVI等等，它的作用就是将已经压缩编码的视频数据和音频数据按照一定的格式放到一起。例如，FLV格式的数据，经过解封装操作后，输出H.264编码的视频码流和AAC编码的音频码流。

### 解码
就是将视频/音频压缩编码数据，解码成为非压缩的视频/音频原始数据。音频的压缩编码标准包含AAC，MP3，AC-3等等，视频的压缩编码标准则包含H.264，MPEG2，VC-1等等。解码是整个系统中最重要也是最复杂的一个环节。通过解码，压缩编码的视频数据输出成为非压缩的颜色数据，例如YUV420P，RGB等等；压缩编码的音频数据输出成为非压缩的音频抽样数据，例如PCM数据。

### 音视频同步
就是根据解封装模块处理过程中获取到的参数信息，同步解码出来的视频和音频数据，并将视频音频数据送至系统的显卡和声卡播放出来




